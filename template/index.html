<!doctype html>
<html lang="en">
<head>
  <meta http-equiv="content-type" content="text/html; charset=utf-8" />
  <meta http-equiv="content-security-policy" content="default-src 'self'; script-src 'unsafe-inline'; style-src 'unsafe-inline'; img-src data:">
  <meta name="viewport" content="width=device-width, minimum-scale=1" />

  <style>
  /* Reset */

  *, *::before, *::after {
    box-sizing: border-box;
  }

  * { margin: 0 }

  input, button, textarea, select {
    font: inherit;
    color: currentColor;
  }

  :root {
    --space-very-small: .25rem;
    --space-small: .5rem;
    --space: 1rem;

     --color-accent: oklch(59.1% .236 10.25);
  }

  .content-grid {
    --padding-inline: 1rem;
    --content-max-width: 70ch;
    --breakout-max-width: 85ch;

    --breakout-size: calc((var(--breakout-max-width) - var(--content-max-width)) / 2);

    display: grid;
    grid-template-columns:
      [full-width-start]
        minmax(var(--padding-inline), 1fr)
        [breakout-start]
          minmax(0, var(--breakout-size))
          [content-start]
            min(
              100% - (var(--padding-inline) * 2),
              var(--content-max-width)
            )
          [content-end]
          minmax(0, var(--breakout-size))
        [breakout-end]
        minmax(var(--padding-inline), 1fr)
      [full-width-end];

    > * {
      grid-column: content;
    }

    > .breakout {
      grid-column: breakout;
    }

    > .full-width {
      grid-column: full-width;
    }
  }

  main {
    padding-inline: var(--space);
  }

  main > table {
    width: 100%;
    border-spacing: var(--space-small) var(--space-very-small);

    & tr > * {
      white-space: nowrap;
    }

    & tr > :last-child {
      --_end-at: var(--end-at, 100);

      width: 100%;
      max-width: 0;

      position: relative;

      .span {
        --_start-at: var(--start-at, 0);
        --_duration: var(--duration);

        display: block;
        position: absolute;
        top: 0;
        left: calc((var(--_start-at) * 100%) / var(--_end-at));
        width: calc((var(--_duration) * 100%) / var(--_end-at));
        height: 100%;
        background: var(--color-accent);
        border-radius: var(--space-small);
      }
    }
  }
  </style>

  <title>Network viewer</title>
</head>

<body class="content-grid">

<nav>Nav</nav>

<main class="full-width">

<table>
  <thead>
    <tr>
      <th scope="col">Conn. ID</th>
      <th scope="col">Req. ID</th>
      <th scope="col">Status</th>
      <th scope="col">Method</th>
      <th scope="col">Domain</th>
      <th scope="col">Path</th>
      <th scope="col">Req. size</th>
      <th scope="col">Resp. size</th>
      <th scope="col">Time</th>
    </tr>
  </thead>

  <tbody style="--end-at: {end_at}">
    {rows}
  </tbody>

  <!--
  <tbody style="--end-at: 5.4">
    <tr>
      <td>room-list</td>
      <td>1</td>
      <td>200</td>
      <td>GET</td>
      <td>matrix.org</td>
      <td>/sync</td>
      <td>2.8Kib</td>
      <td><div class="span" style="--start-at: 0; --duration: 3.2"></div></td>
    </tr>
    <tr>
      <td>room-list</td>
      <td>2</td>
      <td>200</td>
      <td>GET</td>
      <td>matrix.org</td>
      <td>/sync</td>
      <td>1.1Kib</td>
      <td><div class="span" style="--start-at: 1.2; --duration: 1.4"></div></td>
    </tr>
    <tr>
      <td>room-list</td>
      <td>3</td>
      <td>200</td>
      <td>GET</td>
      <td>matrix.org</td>
      <td>/sync</td>
      <td>2.4Kib</td>
      <td><div class="span" style="--start-at: 3.2; --duration: 1.2"></div></td>
    </tr>
    <tr>
      <td>room-list</td>
      <td>4</td>
      <td>200</td>
      <td>GET</td>
      <td>matrix.org</td>
      <td>/sync</td>
      <td>5.2Kib</td>
      <td><div class="span" style="--start-at: 4.3; --duration: 1.1"></div></td>
    </tr>
  </tbody>
  -->
</table>

</main>

</body>
</html>
